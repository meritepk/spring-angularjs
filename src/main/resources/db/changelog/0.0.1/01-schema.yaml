databaseChangeLog:
- changeSet:
    id: 20170101-schema
    author: eng-name
    changes:
    - createTable:
        tableName: countries
        columns:
        - column:
            name: id
            type: VARCHAR(40)
            constraints:
              nullable: false
        - column:
            name: code
            type: VARCHAR(2)
        - column:
            name: name
            type: VARCHAR(100)
    - addPrimaryKey:
        tableName: countries
        columnNames: id
        constraintName: countries_pk
    - addUniqueConstraint:
        tableName: countries
        columnNames: code
        constraintName: countries_code_uk
    - createTable:
        tableName: languages
        columns:
        - column:
            name: id
            type: VARCHAR(40)
            constraints:
              nullable: false
        - column:
            name: code
            type: VARCHAR(3)
        - column:
            name: name
            type: VARCHAR(100)
    - addPrimaryKey:
        tableName: languages
        columnNames: id
        constraintName: languages_pk
    - addUniqueConstraint:
        tableName: languages
        columnNames: code
        constraintName: languages_code_uk
    - createTable:
        tableName: users
        columns:
        - column:
            name: id
            type: VARCHAR(40)
            constraints:
              nullable: false
        - column:
            name: user_name
            type: VARCHAR(10)
        - column:
            name: password
            type: VARCHAR(50)
        - column:
            name: roles
            type: VARCHAR(255)
        - column:
            name: last_loggged_in
            type: DATETIME
    - addPrimaryKey:
        tableName: users
        columnNames: id
        constraintName: users_pk
    - addUniqueConstraint:
        tableName: users
        columnNames: user_name
        constraintName: users_name_uk
    - createTable:
        tableName: customers
        columns:
        - column:
            name: id
            type: VARCHAR(40)
            constraints:
              nullable: false
        - column:
            name: email
            type: VARCHAR(100)
        - column:
            name: first_name
            type: VARCHAR(20)
        - column:
            name: last_name
            type: VARCHAR(20)
        - column:
            name: date_of_birth
            type: DATE
        - column:
            name: user_id
            type: VARCHAR(40)
        - column:
            name: country_id
            type: VARCHAR(40)
        - column:
            name: language_id
            type: VARCHAR(40)
    - addPrimaryKey:
        tableName: customers
        columnNames: id
        constraintName: customers_pk
    - addUniqueConstraint:
        tableName: customers
        columnNames: email
        constraintName: customers_email_uk
    - addForeignKeyConstraint:
        baseTableName: customers
        baseColumnNames: user_id
        referencedTableName: users
        referencedColumnNames: id
        constraintName: customers_users_fk
    - addForeignKeyConstraint:
        baseTableName: customers
        baseColumnNames: country_id
        referencedTableName: countries
        referencedColumnNames: id
        constraintName: customers_countries_fk
    - addForeignKeyConstraint:
        baseTableName: customers
        baseColumnNames: language_id
        referencedTableName: languages
        referencedColumnNames: id
        constraintName: customers_languages_fk